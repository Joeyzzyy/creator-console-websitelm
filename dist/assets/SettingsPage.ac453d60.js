import{_ as xe,a5 as Ie,a6 as Ee,D as Te,R as Ve,N as Le,a7 as je,a8 as Ae,r as d,p as ge,s as re,u as Pe,o as Re,h as W,w as r,H as We,a0 as i,a as _,U as Y,d as m,e as u,b as l,f as n,c as v,t as k,n as ve,g as I,k as b,F as de,l as Ne,a1 as Oe}from"./index.34f726cb.js";const Be={name:"SettingsPage",components:{PageLayout:Ie,SettingOutlined:Ee,DeleteOutlined:Te,ReloadOutlined:Ve,CloseOutlined:Le,NoSiteConfigured:je,SmartBanner:Ae},setup(){const V=Oe.PROJECT_ID,a=d(0),N=d(null),e=We(),ce=()=>{e.push("/dashboard")},Z=d("domains"),O=d(!1),L=d(!1),$=d(!1),ee=d(!1),H=d("https://"),F=d({domain:""}),c=d({method:"subdomain",prefix:"",suffix:""}),j=d(!1),f=d(null),A=d(null),x=d([]),B=[{title:"Type",dataIndex:"type",key:"type"},{title:"Name",dataIndex:"name",key:"name"},{title:"Value",dataIndex:"value",key:"value"}],D=d(!1),oe=async()=>{D.value=!0;try{await K(),i.success("Refresh successfully")}catch{i.error("Refresh failed")}finally{D.value=!1}},P=d(localStorage.getItem("currentCustomerEmail")||""),E=d(!1),y=d({newEmail:"",code:""}),M=d(!1),p=d(!1),U=ge(()=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.value.newEmail)),g=ge(()=>U.value&&y.value.code.length>0),h=()=>{E.value=!0},z=async()=>{if(y.value.newEmail===P.value){i.error("Please enter a different email address from your current one");return}M.value=!0;try{const o=await _.sendEmailCode(y.value.newEmail,"change_email");console.log("\u5F00\u59CB\u5012\u8BA1\u65F6"),a.value=60,console.log("\u5F53\u524Dcooldown\u503C:",a.value),N.value=setInterval(()=>{a.value--,console.log("\u5012\u8BA1\u65F6:",a.value),a.value<=0&&clearInterval(N.value)},1e3),(o==null?void 0:o.code)===200?i.success("Code sent successfully"):i.error("Error sending code")}catch(o){console.error("Error sending code:",o),i.error("Error sending code, please try again later")}finally{M.value=!1}},J=()=>{Y.confirm({title:"Confirm Email Change",content:y.value.newEmail.includes("gmail.com")?"After changing, the original email account will no longer be able to log in this account. Do you want to continue?":"Are you sure you want to change your login email?",okText:"Confirm",cancelText:"Cancel",async onOk(){var o,t;p.value=!0;try{const s=await _.changeEmail({newEmail:y.value.newEmail,code:y.value.code});if((s==null?void 0:s.code)===200){P.value=y.value.newEmail,localStorage.setItem("currentCustomerEmail",y.value.newEmail),E.value=!1,y.value={newEmail:"",code:""},i.success("Successfully changed email");let C=3;const T=Y.success({title:"Success",content:`You will be logged out in ${C} seconds, please use the new email to log in`,okText:"OK",keyboard:!1,maskClosable:!1}),w=setInterval(()=>{C-=1,T.update({content:`You will be logged out in ${C} seconds, please use the new email to log in`}),C<=0&&(clearInterval(w),T.destroy(),localStorage.removeItem("authToken"),localStorage.removeItem("intelickIsLoggedIn"),localStorage.removeItem("currentCustomer"),localStorage.removeItem("currentCustomerId"),e.push("/login"),i.success("Logged out, please use the new email to log in"))},1e3)}else(s==null?void 0:s.code)===400&&(s==null?void 0:s.message)==="Email already exists"?i.error("The new email address has already been registered, please try another one"):(s==null?void 0:s.code)===400&&(s==null?void 0:s.message)==="Invalid verification code"?i.error("The verification code is incorrect, please try again"):i.error("Failed to change email, please try again later")}catch(s){console.error("Failed to change email:",s),i.error(((t=(o=s.response)==null?void 0:o.data)==null?void 0:t.message)||"Failed to change email, please try again later")}finally{p.value=!1}}})},G=()=>{E.value=!1,y.value={newEmail:"",code:""}},ue=o=>{Y.confirm({title:"Confirm Delete",content:`Are you sure you want to delete subdomain ${o}?`,okText:"Delete",okType:"danger",cancelText:"Cancel",async onOk(){try{await _.deleteVercelDomain(V,o),i.success("Domain deleted successfully"),await K()}catch(t){console.error("Failed to delete domain:",t),i.error("Failed to delete domain")}}})},ae=async()=>{O.value=!0;try{const o=localStorage.getItem("currentCustomerId"),t=await _.getProductsByCustomerId(o);(t==null?void 0:t.code)===200&&t.data?(f.value=t.data,c.value={method:"subdomain",prefix:"",suffix:""},await K()):f.value=null}catch(o){console.error("Failed to load product information:",o),f.value=null}finally{O.value=!1}},ye=async o=>{var T;if(!(o!=null&&o.domains)||!((T=f.value)!=null&&T.projectWebsite)){x.value=[];return}const t=f.value.projectWebsite,s=o.domains.filter(w=>w.apexName===t&&w.name!==t),C=await Promise.all(s.map(async w=>{try{const Q=localStorage.getItem("currentCustomerId");let Fe="nextjs";Q==="67525da4ba5fcadf228e56c1"&&(Fe="prj_7SXIhcIx5SOYKKVzhhRvnmUdoN7g");const fe=await _.getVercelDomainConfig(w.name);return{...w,verified:fe.verified||!1,configDetails:fe}}catch(Q){return console.error(`Failed to get config for domain ${w.name}:`,Q),{...w,verified:!1,configDetails:null}}}));x.value=C,console.log("\u57DF\u540D\u914D\u7F6E\u66F4\u65B0\uFF1A",x.value)},K=async()=>{try{L.value=!0;const o=V,t=await _.getVercelDomainInfo(o);A.value=t,await ye(t)}catch(o){console.error("Failed to load Vercel domain info:",o),i.error("Failed to load domain information")}finally{L.value=!1}};re(Z,o=>{o==="domains"?(ae(),c.value.method==="subfolder"&&X()):o==="login-email"&&(E.value=!1,y.value={newEmail:"",code:""})}),re(()=>c.value.method,o=>{o==="subfolder"&&X()});const X=async()=>{try{ne.value=!0;const o=await _.getSubfolders();(o==null?void 0:o.code)===200&&(o==null?void 0:o.data)?S.value=o.data.map(t=>({text:t,preview:t})):S.value=[]}catch(o){console.error("Failed to load subfolders:",o),i.error("Failed to load subfolder list"),S.value=[]}finally{ne.value=!1}};Pe(()=>{ae()}),Re(()=>{N.value&&clearInterval(N.value)});const be=async()=>{var o,t,s;if(!c.value.method){i.error("Please select a deployment method");return}if(c.value.method==="subdomain"&&!c.value.prefix){i.error("Please enter a subdomain prefix");return}if(c.value.method==="subdomain"&&x.value.length>=2){i.error("You can only add up to 2 subdomains");return}j.value=!0;try{const C=localStorage.getItem("currentCustomerId"),T=V,w={name:`${c.value.prefix}.${f.value.projectWebsite}`};await _.addVercelDomain(T,w)&&(i.success("Domain added successfully"),await K(),c.value.prefix="")}catch(C){console.error("Failed to save deployment settings:",C),((s=(t=(o=C.response)==null?void 0:o.data)==null?void 0:t.error)==null?void 0:s.code)==="domain_already_in_use"?i.info("This subdomain has already been submitted. Please add the DNS records as instructed, then click the verify button."):i.error("Failed to save settings")}finally{j.value=!1}},pe=o=>{var t;return o.verified||!((t=o.configDetails)!=null&&t.misconfigured)?"success":"warning"},he=o=>{var t;return o.verified||!((t=o.configDetails)!=null&&t.misconfigured)?"Verified":"Pending"},S=d([]),q=d(!1),me=d(!1),R=d(""),_e=[{title:"Subfolder",dataIndex:"text",key:"text"},{title:"Preview",dataIndex:"preview",key:"preview",customRender:({text:o})=>{var t;return`${(t=f.value)==null?void 0:t.projectWebsite}/${o}`}},{title:"Action",key:"action",width:100}],Ce=o=>{Y.confirm({title:"Delete Subfolder",content:"Are you sure you want to delete this subfolder?",okText:"Delete",okType:"danger",cancelText:"Cancel",async onOk(){try{const t=[...S.value];t.splice(o,1),await _.updateSubfolders(t.map(s=>s.text)),S.value=t,i.success("Subfolder deleted successfully")}catch(t){console.error("Failed to delete subfolder:",t),i.error("Failed to delete subfolder")}}})},we=async()=>{if(!R.value){i.warning("Please enter a subfolder name");return}const o=R.value.toLowerCase().trim();if(S.value.some(s=>s.text.toLowerCase().trim()===o)){i.error("This subfolder already exists");return}try{q.value=!0;const s=[...S.value,{text:R.value.trim(),preview:R.value.trim()}];await _.updateSubfolders(s.map(C=>C.text)),S.value=s,R.value="",me.value=!1,i.success("Subfolder added successfully")}catch(s){console.error("Failed to add subfolder:",s),i.error("Failed to add subfolder")}finally{q.value=!1}},Se=async()=>{try{q.value=!0;const o=S.value.map(t=>t.text);console.log("subfoldersToSave",o),await _.updateSubfolders(o),i.success("Subfolders saved successfully")}catch(o){console.error("Failed to save subfolders:",o),i.error("Failed to save subfolders")}finally{q.value=!1}},ne=d(!1),te=d(null),le=d(!1),se=d(!1),ke=async()=>{try{le.value=!0;const o=V,t={name:f.value.projectWebsite},s=await _.addVercelDomain(o,t);await ie()}catch(o){console.error("Failed to start domain verification:",o),i.error("Failed to start domain verification")}finally{le.value=!1}},ie=async()=>{var o,t;try{const s=await _.getVercelDomainConfig(f.value.projectWebsite);te.value={...s,verified:!s.misconfigured}}catch(s){console.error("\u52A0\u8F7D\u57DF\u540D\u914D\u7F6E\u5931\u8D25:",s),console.error("\u9519\u8BEF\u8BE6\u60C5:",{message:s.message,response:(o=s.response)==null?void 0:o.data,status:(t=s.response)==null?void 0:t.status}),i.error("Failed to load domain configuration")}},De=async()=>{se.value=!0;try{await ie(),i.success("Refresh successful")}catch{i.error("Refresh failed")}finally{se.value=!1}};return re(()=>c.value.method,async o=>{var t;o==="subfolder"&&(X(),(t=f.value)!=null&&t.projectWebsite&&await ie())}),{cooldown:a,goToDashboard:ce,activeTab:Z,domainLoading:O,domainModalVisible:$,savingDomain:ee,websitePrefix:H,domainForm:F,deploymentForm:c,saving:j,productInfo:f,saveDeploymentSettings:be,loadProductInfo:ae,vercelDomainInfo:A,loadVercelDomainInfo:K,currentDomainConfigs:x,showDeleteConfirm:ue,dnsColumns:B,getDomainStatusColor:pe,getDomainStatusText:he,refreshing:D,handleRefresh:oe,currentEmail:P,showEmailForm:E,emailForm:y,sendingCode:M,changing:p,isValidEmail:U,canSubmit:g,showChangeEmailForm:h,sendVerificationCode:z,confirmEmailChange:J,cancelEmailChange:G,subfolders:S,savingSubfolders:q,showSubfolderModal:me,newSubfolder:R,subfolderColumns:_e,loadSubfolders:X,confirmDeleteSubfolder:Ce,handleAddSubfolder:we,saveSubfolders:Se,subfolderLoading:ne,subdomainLoading:L,subfolderDomainConfig:te,verifyingSubfolder:le,refreshingSubfolder:se,startVerifyingSubfolder:ke,handleSubfolderRefresh:De,showDeleteSubfolderDomainConfirm:()=>{Y.confirm({title:"Delete Domain Verification",content:`Are you sure you want to delete the domain verification for ${f.value.projectWebsite}?`,okText:"Delete",okType:"danger",cancelText:"Cancel",async onOk(){try{const o=V;await _.deleteVercelDomain(o,f.value.projectWebsite),i.success("Domain verification deleted successfully"),te.value=null}catch(o){console.error("Failed to delete domain verification:",o),i.error("Failed to delete domain verification")}}})},dnsColumnsWithActions:[{title:"Type",dataIndex:"type",key:"type"},{title:"Name",dataIndex:"name",key:"name"},{title:"Value",dataIndex:"value",key:"value"}],bannerTheme:{primary:"#B7791F",secondary:"#975A16",background:"linear-gradient(135deg, #975A16, #B7791F)",textColor:"#FFFFFF",descriptionColor:"#FEF9C3",badgeColor:"#FEFCE8",badgeBackground:"rgba(255, 255, 255, 0.12)",badgeHoverBackground:"rgba(183, 121, 31, 0.2)",badgeHoverColor:"#FEF08A",iconBackground:"rgba(255, 255, 255, 0.15)"}}}},Me={class:"page-content"},Ue={class:"settings-content"},ze={class:"settings-container"},Ke={key:0},qe={key:1,class:"domain-settings"},Ye={class:"current-domain"},He={class:"website-url"},Je={class:"deployment-settings"},Ge={class:"deployment-options"},Xe={class:"option-header"},Qe={class:"radio-wrapper"},Ze={class:"option-header"},$e={class:"radio-wrapper"},eo={key:0,class:"input-section"},oo={class:"current-domain"},ao={class:"domain-verification"},no={class:"website-url"},to={key:0,class:"verification-status"},lo={class:"domains-header"},so={class:"domain-actions"},io={key:0,class:"dns-config-alert"},ro={class:"dns-table-wrapper"},co={key:1,class:"verification-header"},uo={class:"section-header"},mo={class:"subfolder-list"},fo={key:1},go={key:1,class:"input-section"},vo={class:"url-preview"},yo={class:"base-domain"},bo={key:0,class:"configured-domains"},po={class:"domains-header"},ho={class:"domain-list"},_o={class:"domain-info"},Co={class:"domain-name"},wo={key:0,class:"dns-config-alert"},So={class:"dns-table-wrapper"},ko={class:"domain-actions"},Do={class:"domain-date"},Fo={class:"subfolder-input"},xo={class:"base-url"},Io={key:1,class:"account-settings"},Eo={class:"current-email-section"},To={class:"email-display"},Vo={key:0,class:"email-change-section"},Lo={class:"section-header"},jo={class:"email-change-form"},Ao={class:"email-input-group"};function Po(V,a,N,e,ce,Z){const O=m("smart-banner"),L=m("a-tab-pane"),$=m("a-tabs"),ee=m("no-site-configured"),H=m("a-radio"),F=m("a-form-item"),c=m("a-button"),j=m("reload-outlined"),f=m("a-alert"),A=m("a-table"),x=m("delete-outlined"),B=m("a-spin"),D=m("a-input"),oe=m("a-tag"),P=m("a-form"),E=m("a-modal"),y=m("close-outlined"),M=m("page-layout");return u(),W(M,{title:"Settings",description:"Configure your website settings and deployment options",icon:"\u2699\uFE0F"},{default:r(()=>[l(O,{theme:e.bannerTheme,title:"Website Settings",description:"Configure your domain settings, manage deployment options, and customize your login preferences.",badges:[{text:"Domain Management"},{text:"Deployment Options"},{text:"Login Settings"}],emoji:"\u2699\uFE0F"},null,8,["theme"]),l($,{class:"main-tabs",activeKey:e.activeTab,"onUpdate:activeKey":a[0]||(a[0]=p=>e.activeTab=p)},{default:r(()=>[l(L,{key:"domains",tab:"Domains"}),l(L,{key:"login-email",tab:"Login Email"})]),_:1},8,["activeKey"]),n("div",Me,[n("div",Ue,[e.activeTab==="domains"?(u(),W(B,{key:0,spinning:e.domainLoading,tip:"Loading..."},{default:r(()=>{var p,U;return[n("div",ze,[e.domainLoading?b("",!0):(u(),v("div",Ke,[!((p=e.productInfo)!=null&&p.projectWebsite)||!((U=e.productInfo)!=null&&U.domainStatus)?(u(),W(ee,{key:0})):(u(),v("div",qe,[n("div",Ye,[a[10]||(a[10]=n("h3",null,"Current Site",-1)),n("p",He,k(e.productInfo.projectWebsite),1)]),n("div",Je,[a[26]||(a[26]=n("h3",null,"Deployment Settings",-1)),l(P,{model:e.deploymentForm,layout:"vertical"},{default:r(()=>[l(F,{label:"Choose how you want to deploy your content"},{default:r(()=>[n("div",Ge,[n("div",{class:ve(["deployment-option",{active:e.deploymentForm.method==="subdomain"}]),onClick:a[1]||(a[1]=g=>e.deploymentForm.method="subdomain")},[n("div",Xe,[n("div",Qe,[l(H,{checked:e.deploymentForm.method==="subdomain"},null,8,["checked"])]),a[11]||(a[11]=n("h4",null,"Subdomain",-1))]),a[12]||(a[12]=n("p",{class:"option-description"}," Deploy your content on a subdomain (e.g., blog.yourdomain.com) ",-1))],2),n("div",{class:ve(["deployment-option",{active:e.deploymentForm.method==="subfolder"}]),onClick:a[2]||(a[2]=g=>e.deploymentForm.method="subfolder")},[n("div",Ze,[n("div",$e,[l(H,{checked:e.deploymentForm.method==="subfolder"},null,8,["checked"])]),a[13]||(a[13]=n("h4",null,"Subfolder",-1))]),a[14]||(a[14]=n("p",{class:"option-description"}," Deploy your content in a subfolder (e.g., yourdomain.com/blog) ",-1))],2)])]),_:1}),e.deploymentForm.method==="subfolder"?(u(),v("div",eo,[l(B,{spinning:e.subfolderLoading},{default:r(()=>[n("div",oo,[a[16]||(a[16]=n("h3",null,"Current Site",-1)),n("div",ao,[n("p",no,k(e.productInfo.projectWebsite),1),e.subfolderDomainConfig?b("",!0):(u(),W(c,{key:0,type:"primary",onClick:e.startVerifyingSubfolder,loading:e.verifyingSubfolder},{default:r(()=>a[15]||(a[15]=[I(" Start Verifying ")])),_:1},8,["onClick","loading"]))])]),e.subfolderDomainConfig?(u(),v("div",to,[n("div",lo,[a[17]||(a[17]=n("h3",null,"Domain Verification",-1)),n("div",so,[l(c,{type:"link",class:"refresh-btn",loading:e.refreshingSubfolder,onClick:e.handleSubfolderRefresh},{default:r(()=>[l(j)]),_:1},8,["loading","onClick"])])]),e.subfolderDomainConfig.misconfigured?(u(),v("div",io,[l(f,{type:"warning","show-icon":"",message:"DNS Configuration Required",description:"Please add the following DNS record to your domain provider:"}),n("div",ro,[l(A,{dataSource:[{type:"A",name:"@",value:"76.76.21.21"}],columns:e.dnsColumnsWithActions,pagination:!1,size:"small",class:"dns-table"},null,8,["columns"])])])):(u(),v("div",co,[l(f,{type:"success","show-icon":"",message:"Domain Verified",description:"Your domain has been successfully verified",class:"success-alert"},{message:r(()=>a[18]||(a[18]=[n("div",{class:"alert-content"},[n("span",null,"Domain Verified")],-1)])),action:r(()=>[l(c,{type:"link",danger:"",onClick:e.showDeleteSubfolderDomainConfirm,class:"delete-btn"},{default:r(()=>[l(x)]),_:1},8,["onClick"])]),_:1})]))])):b("",!0),e.subfolderDomainConfig?(u(),v(de,{key:1},[a[22]||(a[22]=n("div",{class:"verification-status"},null,-1)),e.subfolderDomainConfig.misconfigured?b("",!0):(u(),v(de,{key:0},[n("div",uo,[a[20]||(a[20]=n("h3",null,"Subfolder Management",-1)),l(c,{type:"primary",onClick:a[3]||(a[3]=g=>e.showSubfolderModal=!0)},{default:r(()=>a[19]||(a[19]=[I(" Add Subfolder ")])),_:1})]),n("div",mo,[l(A,{dataSource:e.subfolders,columns:e.subfolderColumns,pagination:!1},{bodyCell:r(({column:g,text:h,record:z,index:J})=>{var G;return[g.key==="action"?(u(),W(c,{key:0,type:"link",danger:"",onClick:ue=>e.confirmDeleteSubfolder(J)},{default:r(()=>a[21]||(a[21]=[I(" Delete ")])),_:2},1032,["onClick"])):b("",!0),g.key==="preview"?(u(),v("span",fo,k((G=e.productInfo)==null?void 0:G.projectWebsite)+"/"+k(h),1)):b("",!0)]}),_:1},8,["dataSource","columns"])])],64))],64)):b("",!0)]),_:1},8,["spinning"])])):b("",!0),e.deploymentForm.method==="subdomain"?(u(),v("div",go,[l(F,{label:"Enter your subdomain",required:""},{default:r(()=>[n("div",vo,[l(D,{value:e.deploymentForm.prefix,"onUpdate:value":a[4]||(a[4]=g=>e.deploymentForm.prefix=g),placeholder:"blog",disabled:e.saving,class:"custom-input"},null,8,["value","disabled"]),a[23]||(a[23]=n("span",{class:"url-separator"},".",-1)),n("span",yo,k(e.productInfo.projectWebsite),1)])]),_:1}),l(F,null,{default:r(()=>[l(c,{type:"primary",loading:e.saving,onClick:e.saveDeploymentSettings,class:"save-btn"},{default:r(()=>a[24]||(a[24]=[I(" Add ")])),_:1},8,["loading","onClick"])]),_:1}),l(B,{spinning:e.subdomainLoading},{default:r(()=>{var g;return[((g=e.currentDomainConfigs)==null?void 0:g.length)>0?(u(),v("div",bo,[n("div",po,[a[25]||(a[25]=n("h3",null,"Added Subdomains",-1)),l(c,{type:"link",class:"refresh-btn",loading:e.refreshing,onClick:e.handleRefresh},{default:r(()=>[l(j)]),_:1},8,["loading","onClick"])]),n("div",ho,[(u(!0),v(de,null,Ne(e.currentDomainConfigs,h=>{var z;return u(),v("div",{key:h.name,class:"domain-item"},[n("div",_o,[n("span",Co,k(h.name),1),l(oe,{color:e.getDomainStatusColor(h)},{default:r(()=>[I(k(e.getDomainStatusText(h)),1)]),_:2},1032,["color"])]),(z=h.configDetails)!=null&&z.misconfigured?(u(),v("div",wo,[l(f,{type:"warning","show-icon":"",message:"DNS Configuration Required",description:"Please add the following DNS record to your domain provider:"}),n("div",So,[l(A,{dataSource:[{type:"CNAME",name:h.name.split(".")[0],value:"cname.vercel-dns.com."}],columns:e.dnsColumns,pagination:!1,size:"small",class:"dns-table"},null,8,["dataSource","columns"])])])):b("",!0),n("div",ko,[n("span",Do,"Added on "+k(new Date(h.createdAt).toLocaleDateString()),1),l(c,{type:"link",danger:"",onClick:J=>e.showDeleteConfirm(h.name)},{default:r(()=>[l(x)]),_:2},1032,["onClick"])])])}),128))])])):b("",!0)]}),_:1},8,["spinning"])])):b("",!0)]),_:1},8,["model"])]),l(E,{visible:e.showSubfolderModal,"onUpdate:visible":a[6]||(a[6]=g=>e.showSubfolderModal=g),title:"Add Subfolder",onOk:e.handleAddSubfolder,confirmLoading:e.savingSubfolders,okButtonProps:{disabled:!e.newSubfolder}},{default:r(()=>{var g;return[n("div",Fo,[n("span",xo,k((g=e.productInfo)==null?void 0:g.projectWebsite)+"/",1),l(D,{value:e.newSubfolder,"onUpdate:value":a[5]||(a[5]=h=>e.newSubfolder=h),placeholder:"Enter subfolder name"},null,8,["value"])])]}),_:1},8,["visible","onOk","confirmLoading","okButtonProps"])]))]))])]}),_:1},8,["spinning"])):b("",!0),e.activeTab==="login-email"?(u(),v("div",Io,[n("div",Eo,[a[28]||(a[28]=n("h3",null,"Current Login Email",-1)),n("div",To,[l(D,{value:e.currentEmail,"onUpdate:value":a[7]||(a[7]=p=>e.currentEmail=p),disabled:"",class:"current-email-input"},null,8,["value"]),e.showEmailForm?b("",!0):(u(),W(c,{key:0,type:"primary",onClick:e.showChangeEmailForm,class:"change-email-btn"},{default:r(()=>a[27]||(a[27]=[I(" Change Login Email ")])),_:1},8,["onClick"]))])]),e.showEmailForm?(u(),v("div",Vo,[n("div",Lo,[a[29]||(a[29]=n("h3",null,"Change Login Email",-1)),l(c,{onClick:e.cancelEmailChange,class:"cancel-btn"},{default:r(()=>[l(y)]),_:1},8,["onClick"])]),n("div",jo,[l(P,{model:e.emailForm,layout:"vertical"},{default:r(()=>[l(F,{label:"New Email Address",required:""},{default:r(()=>[n("div",Ao,[l(D,{value:e.emailForm.newEmail,"onUpdate:value":a[8]||(a[8]=p=>e.emailForm.newEmail=p),placeholder:"Enter new email address",class:"custom-input"},null,8,["value"]),l(c,{type:"primary",loading:e.sendingCode,disabled:!e.isValidEmail||e.cooldown>0,onClick:e.sendVerificationCode,class:"send-code-btn"},{default:r(()=>[I(k(e.cooldown>0?`${e.cooldown}s`:"Send Code"),1)]),_:1},8,["loading","disabled","onClick"])])]),_:1}),l(F,{label:"Verification Code",required:""},{default:r(()=>[l(D,{value:e.emailForm.code,"onUpdate:value":a[9]||(a[9]=p=>e.emailForm.code=p),placeholder:"Enter verification code",class:"custom-input"},null,8,["value"])]),_:1}),l(F,null,{default:r(()=>[l(c,{type:"primary",loading:e.changing,onClick:e.confirmEmailChange,disabled:!e.canSubmit,class:"save-btn"},{default:r(()=>a[30]||(a[30]=[I(" Change Now ")])),_:1},8,["loading","onClick","disabled"])]),_:1})]),_:1},8,["model"])])])):b("",!0)])):b("",!0)])])]),_:1})}const Bo=xe(Be,[["render",Po],["__scopeId","data-v-64d6e0ee"]]);export{Bo as default};
